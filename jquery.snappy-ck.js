$.fn.snappyScroll=function(e,t){function s(){var e=1;$(".layer").each(function(){atTop=$(this).offset().top-$(window).scrollTop();if(atTop==0){$(".layer:nth-of-type("+e+")").attr("data-start","start");n=e-1}e++})}function o(e){e.stopPropagation();e.preventDefault();e.cancelBubble=!0;if(r==1)return!1;var t=document.getBoxObjectFor!=null||window.mozInnerScreenX!=null;t?e.detail<0?direction="up":direction="down":e.wheelDelta>0?direction="up":direction="down";u(e);return!1}function u(e){direction=="up"?n--:n++;if(n<0){n=0;return!1}console.log(n);console.log(i);if(n>i){n=i;return!1}direction=="down"?nextLayer=$(".layer[data-start=start]").removeAttr("data-start").next().offset().top:nextLayer=$(".layer[data-start=start]").removeAttr("data-start").prev().offset().top;a(nextLayer)}function a(t){if(r==1)return!1;r=!0;$("html, body").animate({scrollTop:t},e,function(){r=!1;s()})}var n=0,r=!1,i=parseInt($(".layer").length)-1,t=!1;t=t;s();window.addEventListener("DOMMouseScroll",o,!1);window.onmousewheel=document.onmousewheel=o};